<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>code/modules/unit_tests/screenshots/README.md - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a></header><main><h1>code/modules/unit_tests/screenshots/README.md <a href="https://github.com/flopppi/testysector/blob/59c556b20cc4ccc01d5b0e03424d2b54428f3ed1/code/modules/unit_tests/screenshots/README.md"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/screenshots/README.md"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><p>This folder contains the results for screenshot tests. Screenshot tests make sure an icon looks the same as it did before a change to prevent regressions.</p>
<p>You can create one by simply using the <code>test_screenshot</code> proc.</p>
<p>This example test screenshots a red image and keeps it.</p>
<pre><code class="language-dm">/// This is an example for screenshot tests, and a meta-test to make sure they work in the success case.
/// It creates a picture that is red on the left side, green on the other.
/datum/unit_test/screenshot_basic

/datum/unit_test/screenshot_basic/Run()
	var/icon/red = icon('icons/blanks/32x32.dmi', &quot;nothing&quot;)
	red.Blend(COLOR_RED, ICON_OVERLAY)
	test_screenshot(&quot;red&quot;, red)
</code></pre>
<p>Unfortunately, screenshot tests are sanest to test through a pull request directly, due to limitations with both DM and GitHub.</p></td></tr></table></main><footer>tgstation.dme <a href="https://github.com/flopppi/testysector/tree/59c556b20cc4ccc01d5b0e03424d2b54428f3ed1">59c556b</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>